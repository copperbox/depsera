PORT=3001
DATABASE_PATH=./data/database.sqlite

# OIDC Configuration (required unless AUTH_BYPASS=true)
OIDC_ISSUER_URL=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_REDIRECT_URI=http://localhost:3001/api/auth/callback

# Session Configuration
# Generate a strong secret: node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"
# Must be at least 32 characters in production. Weak/default values will cause startup failure.
SESSION_SECRET=change-me-to-random-32-char-string

# CORS
CORS_ORIGIN=http://localhost:3000

# SSRF Allowlist (optional)
# Comma-separated list of hostnames, wildcard patterns, and CIDR ranges
# that bypass SSRF blocking. Required for monitoring internal services.
# Examples:
#   localhost,127.0.0.0/8                                          (local dev)
#   *.internal,*.corp.com,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16 (corporate network)
SSRF_ALLOWLIST=localhost,127.0.0.0/8

# Reverse Proxy / HTTPS
# Set TRUST_PROXY when running behind a reverse proxy (nginx, AWS ALB, etc.)
# so that Express reads X-Forwarded-* headers for req.secure, req.ip, etc.
# Values: true, false, number (hop count), "loopback", IP/subnet, comma-separated list
TRUST_PROXY=

# Set to "true" to 301-redirect all HTTP requests to HTTPS.
# Requires TRUST_PROXY to be set when behind a reverse proxy.
# /api/health is exempted so load-balancer probes still work over HTTP.
REQUIRE_HTTPS=false

# Development Auth Bypass (NEVER enable in production)
# Set to true to skip OIDC and auto-authenticate as a dev user
AUTH_BYPASS=false
AUTH_BYPASS_USER_EMAIL=dev@localhost
AUTH_BYPASS_USER_NAME=Development User
